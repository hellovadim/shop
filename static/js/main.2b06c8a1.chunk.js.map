{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","id","href","Footer","Date","getFullYear","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","style","fontSize","onClick","GoodsList","goods","lenght","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","decQuantity","incQuantity","BasketList","order","totalPrice","reduce","sum","el","length","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4KAEA,SAASA,IACP,OACE,qBAAKC,UAAU,uBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,sBAAMA,UAAU,aAAhB,kBAGA,oBAAIC,GAAG,aAAaD,UAAU,6BAA9B,SACE,6BACE,mBAAGE,KAAK,YAAR,2BCXZ,SAASC,IACL,OACE,wBAAQH,UAAU,6BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAII,MAAOC,cADhB,kBAEE,mBAAGL,UAAU,iCAAiCE,KAAK,KAAnD,yB,yBCNL,SAASI,IACb,OAAQ,qBAAKN,UAAU,WAAf,SACR,qBAAKA,UAAU,oBCFlB,SAASO,EAAUC,GACjB,IAAQP,EAAkFO,EAAlFP,GAAIQ,EAA8ED,EAA9EC,KAAMC,EAAwEF,EAAxEE,YAAaC,EAA2DH,EAA3DG,MAAOC,EAAoDJ,EAApDI,gBAAtC,EAA0FJ,EAAnCK,mBAAvD,MAAmEC,SAASC,UAA5E,EAEA,OACE,sBAAKf,UAAU,iBAAiBC,GAAIA,EAApC,UACE,qBAAKD,UAAU,aAAf,SACE,qBAAKgB,IAAKJ,EAAiBK,IAAKR,MAElC,oBAAIT,UAAU,0BAAd,SAAyCS,IACzC,sBAAKT,UAAU,gDAAf,UACE,mBAAGkB,MAAO,CAACC,SAAU,UAArB,SACET,IAEF,sBAAKV,UAAU,cAAf,UACE,wBAAQA,UAAU,qBAAqBoB,QAAS,kBAAMP,EAAY,CAChEZ,KAAGQ,OAAKE,WADV,kDAGA,uBAAMX,UAAU,kCAAkCkB,MAAO,CAACC,SAAU,UAApE,UAAgFR,EAAhF,mCCfV,SAASU,EAAUb,GACf,MAAuDA,EAAhDc,aAAP,MAAe,GAAf,IAAuDd,EAApCK,mBAAnB,MAAiCC,SAASC,UAA1C,EAEA,OAAoB,IAAjBO,EAAMC,OACC,8HAEH,qBAAKvB,UAAU,QAAf,SACNsB,EAAME,KAAI,SAAAC,GAAI,OACX,cAAClB,EAAD,2BAA6BkB,GAA7B,IAAmCZ,YAAaA,IAAhCY,EAAKxB,SCV7B,SAASyB,EAAKlB,GACZ,MAAgEA,EAAxDmB,gBAAR,MAAmB,EAAnB,IAAgEnB,EAA1CoB,wBAAtB,MAAyCd,SAASC,UAAlD,EACA,OACE,sBAAKf,UAAU,iCAAiCoB,QAASQ,EAAzD,UACE,mBAAG5B,UAAU,iBAAb,2BACC2B,EAAW,sBAAM3B,UAAU,gBAAhB,SAAiC2B,IAAmB,QCLtE,SAASE,EAAWrB,GAChB,IACIP,EAOAO,EAPAP,GACAQ,EAMAD,EANAC,KACAE,EAKAH,EALAG,MACAgB,EAIAnB,EAJAmB,SAJJ,EAQInB,EAHAsB,wBALJ,MAKuBhB,SAASC,UALhC,EAMIgB,EAEAvB,EAFAuB,YACAC,EACAxB,EADAwB,YAIJ,OAAQ,qBAAIhC,UAAU,kBAAd,UACHS,EADG,IACG,mBAAGW,QAAS,kBAAKW,EAAY9B,IAAKD,UAAU,iCAA5C,oBADH,KAC6F2B,EAD7F,IACuG,mBAAGP,QAAS,kBAAKY,EAAY/B,IAAKD,UAAU,iCAA5C,iBADvG,MAC+LW,EACnM,sBAAMX,UAAU,oBAAoBoB,QAAS,kBAAKU,EAAiB7B,IAAnE,SACA,mBAAGD,UAAU,+BAAb,wBCbR,SAASiC,EAAWzB,GAClB,MAMSA,EALH0B,aADN,MACc,GADd,IAMS1B,EAJHoB,wBAFN,MAEyBd,SAASC,UAFlC,IAMSP,EAHHsB,wBAHN,MAGuBhB,SAASC,UAHhC,EAIMgB,EAEGvB,EAFHuB,YACAC,EACGxB,EADHwB,YAEAG,EAAaD,EAAME,QAAO,SAACC,EAAKC,GAClC,OAAOD,EAAMC,EAAG3B,MAAQ2B,EAAGX,WAC5B,GACH,OACE,qBAAI3B,UAAU,yBAAd,UACA,oBAAIA,UAAU,yBAAd,wDACCkC,EAAMK,OACHL,EAAMV,KAAI,SAACC,GAAD,OACN,cAACI,EAAD,aAEIC,iBAAkBA,EAClBC,YAAaA,EACbC,YAAaA,GACTP,GAJCA,EAAKxB,OAQlB,oBAAID,UAAU,kBAAd,uFAEJ,qBAAIA,UAAU,yBAAd,oGACsBmC,EADtB,0BAIA,mBACInC,UAAU,8BACVoB,QAASQ,EAFb,mBAMA,oBAAI5B,UAAU,kBAAd,SACI,wBAAQA,UAAU,+BAAlB,mECrCR,SAASwC,EAAMhC,GACX,MAAsDA,EAA/CC,YAAP,MAAc,GAAd,IAAsDD,EAApCiC,kBAAlB,MAA+B3B,SAASC,UAAxC,EAWA,OATA2B,qBAAU,WACN,IAAMC,EAAUC,WAAWH,EAAY,KAEvC,OAAO,WACHI,aAAaF,MAGlB,CAAClC,IAEG,qBAAKR,GAAG,kBAAR,SACC,sBAAKD,UAAU,QAAf,UAAwBS,EAAxB,2GCRL,SAASqC,IACd,MAA0BC,mBAAS,IAAnC,mBAAOzB,EAAP,KAAc0B,EAAd,KACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,mBAAS,IAAnC,mBAAOb,EAAP,KAAciB,EAAd,KACA,EAAsCJ,oBAAS,GAA/C,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAkCN,mBAAS,IAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KA2BM3B,EAAmB,WACrByB,GAAeD,IAoCnBV,qBAAU,WACRc,MC5EY,yCD4EG,CACbC,QAAS,CACPC,cChFOC,yCDmFRC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLA,EAAKC,UAAYhB,EAASe,EAAKC,UAC/Bd,GAAW,QAEd,IAOH,OACE,uBAAMlD,UAAU,oBAAhB,UACE,cAAC0B,EAAD,CAAMC,SAAUO,EAAMK,OAAQX,iBAAkBA,IAC/CqB,EAAW,cAAC3C,EAAD,IACR,cAACe,EAAD,CAAWC,MAAOA,EAClBT,YArFY,SAACY,GACnB,IAAMwC,EAAY/B,EAAMgC,WAAU,SAACC,GAAD,OAAeA,EAAUlE,KAAOwB,EAAKxB,MAEvE,GAAIgE,EAAY,EAAG,CACjB,IAAMG,EAAO,2BACR3C,GADQ,IAEXE,SAAU,IAEZwB,EAAS,GAAD,mBAAKjB,GAAL,CAAYkC,SACf,CACH,IAAMC,EAAWnC,EAAMV,KAAI,SAAC2C,EAAWG,GACnC,OAAGA,IAAUL,EACF,2BACAE,GADP,IAEIxC,SAAUwC,EAAUxC,SAAW,IAG5BwC,KAGfhB,EAASkB,GAEbd,EAAa9B,EAAKhB,SAmEb2C,GAAgB,cAACnB,EAAD,CAChBC,MAAOA,EACPJ,iBAfgB,SAACyC,GACxB,IAAMF,EAAWnC,EAAMsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGrC,KAAOsE,KAC9CpB,EAASkB,IAcFzC,iBAAkBA,EAClBI,YAhEa,SAACuC,GACjB,IAAMF,EAAWnC,EAAMV,KAAI,SAAAc,GACzB,GAAGA,EAAGrC,KAAOsE,EAAQ,CACnB,IAAME,EAAcnC,EAAGX,SAAW,EAClC,OAAO,2BACFW,GADL,IAEEX,SAAU8C,IAGZ,OAAOnC,KAGXa,EAASkB,IAqDNtC,YAnDa,SAACwC,GACnB,IAAMF,EAAWnC,EAAMV,KAAI,SAAAc,GACzB,GAAGA,EAAGrC,KAAOsE,EAAQ,CACnB,IAAME,EAAcnC,EAAGX,SAAW,EAClC,OAAO,2BACFW,GADL,IAEEX,SAAU8C,GAAc,EAAIA,EAAc,IAG5C,OAAOnC,KAGXa,EAASkB,MA0CJf,GAAa,cAACd,EAAD,CAAO/B,KAAM6C,EAAWb,WAvCzB,WACjBc,EAAa,UE3DFmB,MAVf,WACE,OACE,qCACA,cAAC3E,EAAD,IACA,cAAC+C,EAAD,IACA,cAAC3C,EAAD,QCJJwE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2b06c8a1.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <nav className=\"teal orange darken-4\">\r\n      <div className=\"nav-wrapper\">\r\n        <span className=\"brand-logo\">\r\n          Shop\r\n        </span>\r\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          <li>\r\n            <a href=\"sass.html\">Repo</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\nexport { Header };","function Footer() {\r\n    return (\r\n      <footer className=\"page-footer brown darken-2\">\r\n        <div className=\"footer-copyright\">\r\n          <div className=\"container\">\r\n            © {new Date().getFullYear()} Copyright Text\r\n            <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\r\n              Repo\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    );\r\n  }\r\n  \r\n  export { Footer };","export function Preloader(){\r\n   return  <div className=\"progress\">\r\n   <div className=\"indeterminate\"></div>\r\n</div>\r\n}","function GoodsItem(props) {\r\n  const { id, name, description, price, full_background, addToBasket=Function.prototype } = props;\r\n \r\n  return (\r\n    <div className=\"card hoverable\" id={id}>\r\n      <div className=\"card-image\">\r\n        <img src={full_background} alt={name} />\r\n      </div>\r\n      <h6 className=\"card-title center-align\">{name}</h6>\r\n      <div className=\"card-content center-align blue-text text-grey\">\r\n        <p style={{fontSize: '1.1rem'}}>\r\n         {description}\r\n        </p>\r\n        <div className=\"card-action\">\r\n          <button className=\"btn amber accent-4\" onClick={() => addToBasket({\r\n            id,name,price\r\n          })}>Купить</button>\r\n          <span className=\"right purple-text text-darken-2\" style={{fontSize: '1.8rem'}}>{price} руб.</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport {GoodsItem};","import {GoodsItem} from './GoodsItem';\r\n\r\nfunction GoodsList(props) {\r\n    const {goods = [], addToBasket = Function.prototype} = props;\r\n\r\n    if(goods.lenght === 0){\r\n      return  <h3>Ничего не найдено</h3>\r\n    }\r\n    return <div className=\"goods\">\r\n    {goods.map(item => (\r\n        <GoodsItem key={item.id} {...item} addToBasket={addToBasket}/>\r\n    ))}\r\n</div>\r\n\r\n    \r\n}\r\n\r\nexport  {GoodsList};","function Cart(props) {\r\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\r\n  return (\r\n    <div className=\"cart brown darken-1 white-text\" onClick={handleBasketShow}>\r\n      <i className=\"material-icons\">shopping_cart</i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Cart };\r\n","function BasketItem(props) {\r\n    const {\r\n        id,\r\n        name,\r\n        price,\r\n        quantity,\r\n        removeFromBasket = Function.prototype,\r\n        decQuantity,\r\n        incQuantity\r\n    } = props;\r\n\r\n\r\n    return  <li className=\"collection-item\">\r\n        {name} <i onClick={()=> decQuantity(id)} className=\"material-icons basket-quantity\">remove</i>x {quantity} <i onClick={()=> incQuantity(id)} className=\"material-icons basket-quantity\">add</i> = {price}\r\n        <span className=\"secondary-content\" onClick={()=> removeFromBasket(id)}>\r\n        <i className=\"material-icons basket-delete\">clear</i></span>\r\n  </li>\r\n}\r\n\r\nexport {BasketItem};","import {BasketItem} from './BasketItem';\r\n\r\nfunction BasketList(props) {\r\n  const {  \r\n        order = [] ,\r\n        handleBasketShow = Function.prototype,\r\n        removeFromBasket=Function.prototype,\r\n        decQuantity,\r\n        incQuantity\r\n       } = props;\r\n  const totalPrice = order.reduce((sum, el) => {\r\n      return sum + el.price * el.quantity\r\n  }, 0)\r\n  return (\r\n    <ul className='collection basket-list'>\r\n    <li className='collection-item active'>Корзина</li>\r\n    {order.length ? (\r\n        order.map((item) => (\r\n            <BasketItem\r\n                key={item.id}\r\n                removeFromBasket={removeFromBasket}\r\n                decQuantity={decQuantity}\r\n                incQuantity={incQuantity}\r\n                {...item}\r\n            />\r\n        ))\r\n    ) : (\r\n        <li className='collection-item'>Корзина пуста</li>\r\n    )}\r\n    <li className='collection-item active'>\r\n        Общая стоимость: {totalPrice} руб.\r\n    </li>\r\n  \r\n    <i\r\n        className='material-icons basket-close'\r\n        onClick={handleBasketShow}\r\n    >\r\n        close\r\n    </i>\r\n    <li className='collection-item'>\r\n        <button className=\"waves-effect waves-light btn\">Оформить</button>\r\n    </li>\r\n</ul>\r\n  );\r\n}\r\nexport {BasketList};\r\n\r\n\r\n","import { useEffect} from 'react';\r\n\r\n\r\nfunction Alert(props) {\r\n    const {name = '', closeAlert = Function.prototype } = props;\r\n    \r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000)\r\n\r\n        return () => {\r\n            clearTimeout(timerId)\r\n        }\r\n         // eslint-disable-next-line\r\n    }, [name])/* для того чтобы исчез алерт */\r\n\r\n    return <div id=\"toast-container\">\r\n            <div className=\"toast\">{name} добавлен в корзину</div>\r\n    </div>\r\n}\r\nexport {Alert}","import { useState, useEffect } from \"react\";\r\nimport { API_KEY, API_URL } from \"../config\";\r\nimport { Preloader } from \"./Preloader\";\r\nimport { GoodsList } from \"./GoodsList\";\r\nimport { Cart } from \"./Cart\";\r\nimport {BasketList} from './BasketList';\r\nimport {Alert} from './Alert';\r\n\r\nexport function Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false);\r\n  const [alertName, setAlertName] = useState('');/* алерт что добавили в корзину */\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);/* ищем индекс если есть вернет индекс если нет то -1 */\r\n\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };/* если не был добавлен */\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n        const newOrder = order.map((orderItem, index) => {\r\n            if(index === itemIndex) {\r\n                return {\r\n                    ...orderItem,\r\n                    quantity: orderItem.quantity + 1\r\n                }/* если не был добавлен  */\r\n            }else{\r\n                return orderItem;\r\n            }/* проверка был ли добавлен */\r\n        })\r\n        setOrder(newOrder)\r\n    }\r\n    setAlertName(item.name)/* алерт */\r\n  };/* функция получила обьект с айди названием и ценой,*/\r\n\r\n  const handleBasketShow = () => {\r\n      setBasketShow(!isBasketShow)\r\n  }/* показ корзины */\r\n\r\n  const incQuantity = (itemId) => {\r\n      const newOrder = order.map(el => {\r\n        if(el.id === itemId) {\r\n          const newQuantity = el.quantity + 1;\r\n          return {\r\n            ...el,\r\n            quantity: newQuantity\r\n          }\r\n        }else{\r\n          return el;\r\n        }\r\n      });\r\n      setOrder(newOrder)\r\n  }/* увеличение товара в корзине */\r\n  const decQuantity = (itemId) => {\r\n    const newOrder = order.map(el => {\r\n      if(el.id === itemId) {\r\n        const newQuantity = el.quantity - 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity >=0 ? newQuantity : 0,\r\n        }\r\n      }else{\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder)\r\n  }/* уменьшение товара в корзине */\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('')\r\n  }\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.featured && setGoods(data.featured);\r\n        setLoading(false);\r\n      });\r\n  }, []); /* вывод товаров на экран */\r\n\r\n\r\nconst removeFromBasket = (itemId) => {\r\n  const newOrder = order.filter(el => el.id !== itemId)\r\n  setOrder(newOrder);/* удаление товара из корзины */\r\n}\r\n  return (\r\n    <main className=\"container content\">\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? (<Preloader /> ): (\r\n          <GoodsList goods={goods}\r\n          addToBasket={addToBasket}\r\n       />)}\r\n\r\n       {\r\n         isBasketShow && <BasketList \r\n         order={order} /* берем из setOrder */ \r\n         removeFromBasket={removeFromBasket}\r\n         handleBasketShow={handleBasketShow}\r\n         incQuantity={incQuantity}\r\n         decQuantity={decQuantity}/>\r\n       }\r\n       {\r\n         alertName && <Alert name={alertName} closeAlert={closeAlert}/>\r\n       }\r\n    </main>\r\n  );\r\n}\r\n","const API_KEY =process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","import {Header} from './components/Header';\nimport {Footer} from './components/Footer';\nimport {Shop} from './components/Shop';\n\n\nfunction App() {\n  return (\n    <>\n    <Header/>\n    <Shop/>\n    <Footer/>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}